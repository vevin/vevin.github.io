---
title: 更新内容
tags: 更新说明,小书匠
---

注：从 `3.*.*` 版本开始，升级了底层的 IndexedDB 数据库，从小书匠 `2.*.*` 版本升级后系统自动将原有数据转换成 IndexedDb2.0
的格式，因此升级后新的数据格式将无法再在旧版的小书匠客户端上使用。有回退到旧版的用户，在升级前建议先备份原有的数据。

数据库文件路径

```
Windows: %LOCALAPPDATA%/小书匠/
Mac: ~/Library/Application Support/小书匠/
Linux: ~/.config/小书匠
```

# 3.1.1

## 3.1.1 修改

1. 修复 mermaid svg 文字打印时被截断的 bug
2. 修改预览字体大小
3. 解决 zip 导出失效的问题 #421
4. 暂停有道笔记的第三方存储 #377 #414 #420

# 3.1.0

## 3.1.0 新功能

1. 添加[码云](http://git.oschina.net) 第三方存储
2.添加为知V2(新同步方式)第三方存储。需要注意的是只有在为知官方上打开了新的同步方式时，才能使用该存储方式。旧的同步方式还是继续使用老的为知第三方存储。目前小书匠只是使用了新的 api,但并没有真正增量保存同步，而是覆盖同步。
3. github, 七牛,阿里云oss, 右拍云等图床支持自定义文件路径

## 3.1.0 修改

1. 修复github/本地 第三方存储在另存为时，会有相关资源引用错误的问题
2. codemirror 自动预览图片默认改成关闭
3. github 图床在进行迁移时会有并发冲突问题
4. 修复附件管理图片下载按钮没作用的问题

# 3.0.2

## 3.0.2 修改

1. 预览时mathjax公式正确，导出为PDF文件mathjax公式出现错误 #409

# 3.0.1

## 3.0.1 修改

1. 修复 mathjax 与上下标语法冲突问题 #349
2. 修复 codemirror 编辑器 tab 键失效问题 #390


# 3.0.0

## 3.0.0 新功能

1. 升级 node-webkit 到 0.22.0 版本，使用新的 IndexedDB 2.0 ，提升小书匠内置数据库的操作速度。https://developers.google.com/web/updates/2017/04/nic58
2. 编辑区的大纲实现拖动排序功能
3. 升级代码高亮 highlightjs 到 9.11.0 版本,添加更多的高亮语言支持(比如basic, yaml, shell等56种语言)，及更多的代码块高亮样式
4. 邮件发送可以分开发送给不同用户
5. 实现错误提示窗口可以批量关闭功能
6. 邮件支持发送导出为图片的正文
7. 升级 font-awesome 到 4.7.0 版本, 添加了40几个新的预览图标 <i class="fa fa-handshake-o"></i>
8. 发布博客提供是否内联样式，是否发布选项
9. 实现分页符 `___`, 用于 pdf 打印强制分页

## 3.0.0 修改

1. 修正 pdf 预览同步滚动问题
2. 解决文档内容变更后，不能及时同步滚动的问题
3. 解决元数据内含特殊字符时，不能解析的问题
4. 当打开一个本地文件的时候，无法识别 title #362
5. 修改图片粘贴标题显示逻辑，剪切板粘贴的图片不再自动添加 title 属性
6. 本地绑定加入一个全局资源查找策略 #361
7. codemirror 语法识别元数据 #360
8. 解决 codemirror 下 ，代码折叠不准确的问题
9. 修复 ppt 演示模式不能正常打开的问题
10. 邮箱附件bug #364
11. 解决代码段在打印 pdf 时，会有分页被截断的问题
12. 照片导出时水印的logo 由“小书匠” 改成 “书”
13. 修复 pdf 打印，块图片下面的小标题在分页时被分开的问题
14. 保存到印象笔记时TODO-List显示不正常 #370
15. 解决form 验证回车后，没有阻止 event 事件，引起编辑器会监听到回车按键的问题
16. 修复 from 表单对象没正确销毁问题
17. 保存到有道云笔记后显示问题，待办事项和代码段行号 #377
18. 调整生成的 mathjax 最大宽度
19. 解决 mermaid 导出 pdf时，如果纯打印 svg ，会不显示的问题
20. 打印功能去掉页脚的 url
21. 解决客户端 emoji 表情图片没有正确导出的问题
22. 改进 html 转换成 markdown 的算法
23. 解决发送博客时图片名称没有正确处理的问题 #379

